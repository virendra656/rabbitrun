{"version":3,"sources":["dao/appusers.ts"],"names":[],"mappings":";;AAAA,6BAA4B;AAC5B,kDAAsC;AAGtC,gBAAuB,OAAwB;IAE7C,MAAM,CAAC,gBAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;QACzB,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;KACtB,CAAC;SACC,IAAI,CAAC,QAAQ;QACZ,MAAM,CAAC,gBAAE,CAAC,OAAO;aACd,MAAM,CAAC;YACN,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE;YACb,KAAK,EAAE,OAAO,CAAC,KAAK;YACpB,GAAG,EAAE,OAAO,CAAC,GAAG;YAChB,UAAU,EAAE,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC;SAC/B,CAAC,CAAA;IACN,CAAC,CAAC,CAAA;AACN,CAAC;AAdD,wBAcC;AAED;IACE,MAAM,CAAC,gBAAE,CAAC,OAAO;SACd,OAAO,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAA;AAC1C,CAAC;AAHD,0BAGC;AAED,eAAsB,OAAwB;IAC5C,MAAM,CAAC,gBAAE,CAAC,OAAO;SACd,OAAO,CAAC;QACP,KAAK,EAAE;YACL,KAAK,EAAE,OAAO,CAAC,KAAK;YACpB,GAAG,EAAE,OAAO,CAAC,GAAG;SACjB;QACD,OAAO,EAAE,CAAC,gBAAE,CAAC,QAAQ,CAAC;KACvB,CAAC,CAAA;AACN,CAAC;AATD,sBASC","file":"appusers.js","sourcesContent":["import * as uuid from 'uuid'\nimport db from '../sqlz/models/_index'\nimport { AppUserInstance } from './../sqlz/models/appuser'\n\nexport function create(appUser: AppUserInstance): Promise<any> {\n\n  return db.Language.findOne({\n    where: { name: 'fr' }\n  })\n    .then(language => {\n      return db.AppUser\n        .create({\n          id: uuid.v1(),\n          email: appUser.email,\n          pwd: appUser.pwd,\n          languageId: language.get('id')\n        })\n    })\n}\n\nexport function findAll(): Promise<any> {\n  return db.AppUser\n    .findAll({ include: [{ all: true }] })\n}\n\nexport function login(appUser: AppUserInstance): Promise<any> {\n  return db.AppUser\n    .findOne({\n      where: {\n        email: appUser.email,\n        pwd: appUser.pwd\n      },\n      include: [db.Language]\n    })\n}\n"],"sourceRoot":"../../src"}